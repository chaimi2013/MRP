# MRP
[Fast Haze Removal for Nighttime Image Using Maximum Reflectance Prior](https://chaimi2013.github.io/Research/NighttimeDehazing/index.html)

The code has been tested on Win7/10 with Opencv 2.7.

## Installation
Please install opencv 2.4.9 (or copy "opencv_core249.dll" "opencv_highgui249.dll " "opencv_imgproc249.dll" from "OPENCV_DIR/build/x64/vc10/bin/" to the same directory with "NighttimeDehaze.exe") before running this code.

Then, run the executable code as: "NighttimeDehazeMRP.exe input.bmp 0", where "input.bmp" is the input nighttime hazy image, the follwowing parameter indicates the algorithm being used, e.g., 0 for MRP and 1 for MRP-Faster, the output dehazed result is named as "name_J.bmp".

## Folder Structure
    MRP
        -data
            Some test images and the corresponding results generated by this code.
        -NighttimeDehazeMRP
            The executable code
        -*.dll
            The dependencies
        -flickr14.bmp
            A test image

## Citation
Please cite our paper in your publications if it helps your research:

    @CONFERENCE{CVPR_2017_Jing,
        author = {Jing Zhang and Yang Cao and Shuai Fang and Yu Kang and Chang Wen Chen},
		title = {Fast Haze Removal for Nighttime Image Using Maximum Reflectance Prior},
		booktitle = {IEEE Conference on Computer Vision and Pattern Recognition (CVPR)},
		year = {2017}
	}
    
## Related Work
[1]. Nighttime haze removal based on a new imaging model. [NighttimeDehaze: Project, ](https://chaimi2013.github.io/Research/NighttimeDehazing_ICIP2014/index.html)
    [NighttimeDehaze: github](https://github.com/chaimi2013/NighttimeDehaze)
    
    @INPROCEEDINGS{JingZhang_ICIP2014_ND, 
		author={Zhang, Jing and Cao, Yang and Wang, Zengfu}, 
		booktitle={2014 21th IEEE International Conference on Image Processing (ICIP)}, 
		title={Nighttime Haze Removal Based on a New Imaging Model}, 
		year={2014}, 
		month={Oct}
	}

## Contact
[Email](zj.winner@163.com)
